<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Smart Pillbox Project</title>
    <style>
        /* Base styles */
        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
            line-height: 1.6;
            margin: 0;
            padding: 0;
            color: #333;
        }
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }
        /* Header styles */
        header {
            background: #1e88e5;
            color: white;
            padding: 60px 0;
            text-align: center;
        }
        .hero-title {
            font-size: 2.5em;
            margin-bottom: 20px;
        }
        /* Section styles */
        .section {
            padding: 40px 0;
            border-bottom: 1px solid #eee;
        }
        /* Feature grid styles */
        .feature-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 30px;
            margin-top: 30px;
        }
        .feature-card {
            background: #f8f9fa;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        /* Tech stack styles */
        .tech-stack {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            margin-top: 20px;
        }
        .tech-tag {
            background: #e3f2fd;
            padding: 5px 10px;
            border-radius: 15px;
            font-size: 0.9em;
        }
        /* Video container styles */
        .video-container {
            position: relative;
            padding-bottom: 56.25%;
            height: 0;
            overflow: hidden;
            margin: 20px 0;
            background: #f8f9fa;
            border-radius: 8px;
        }
        .video-container iframe {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            border: none;
        }
        /* Gallery styles */
        .gallery {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin: 20px 0;
        }
        .gallery-item {
            position: relative;
            overflow: hidden;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
            cursor: pointer;
            aspect-ratio: 4/3;
        }
        .gallery-item img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            transition: transform 0.3s ease;
        }
        .gallery-item:hover img {
            transform: scale(1.05);
        }
        .gallery-caption {
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            background: rgba(0,0,0,0.7);
            color: white;
            padding: 10px;
            font-size: 0.9em;
        }
        /* Modal styles */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.8);
            z-index: 1000;
            overflow-y: auto;
            padding: 20px;
            box-sizing: border-box;
        }
        .modal-content {
            position: relative;
            background: white;
            width: 90%;
            max-width: 800px;
            margin: 40px auto;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
        }
        .image-container {
            position: relative;
            width: 100%;
            margin-bottom: 20px;
            aspect-ratio: 4/3;
        }
        .modal-image {
            width: 100%;
            height: 100%;
            object-fit: contain;
            border-radius: 4px;
            background: #f8f9fa;
        }
        .nav-button {
            position: absolute;
            top: 50%;
            transform: translateY(-50%);
            background: rgba(0,0,0,0.5);
            color: white;
            border: none;
            padding: 12px 16px;
            cursor: pointer;
            font-size: 18px;
            border-radius: 4px;
            transition: all 0.3s ease;
            z-index: 2;
            display: none;
        }
        .nav-button:hover {
            background: rgba(0,0,0,0.8);
        }
        .nav-button.prev {
            left: 10px;
        }
        .nav-button.next {
            right: 10px;
        }
        .modal-close {
            position: absolute;
            top: 10px;
            right: 10px;
            font-size: 24px;
            cursor: pointer;
            color: #666;
            background: none;
            border: none;
            padding: 5px 10px;
            z-index: 2;
        }
        .modal-close:hover {
            color: #333;
        }
        .modal-title {
            font-size: 1.5em;
            margin: 20px 0 15px;
            color: #1e88e5;
        }
        .modal-description {
            margin-bottom: 20px;
            line-height: 1.6;
        }
        .modal-details {
            background: #f8f9fa;
            padding: 15px;
            border-radius: 4px;
            margin-top: 15px;
        }
        /* Footer styles */
        footer {
            background: #f8f9fa;
            padding: 20px 0;
            text-align: center;
            margin-top: 40px;
        }
        /* Responsive adjustments */
        @media (max-width: 768px) {
            .container {
                padding: 15px;
            }
            .hero-title {
                font-size: 2em;
            }
            .modal-content {
                margin: 20px auto;
            }
        }
    </style>
</head>
<body>
    <header>
        <div class="container">
            <h1 class="hero-title">Smart Pillbox Project</h1>
            <p>An IoT Healthcare Solution Based on ATmega328PB and ESP32</p>
        </div>
    </header>

    <main class="container">
        <section class="section">
            <h2>Project Overview</h2>
            <p>This smart pillbox solution integrates IoT technology to help users better manage their medication schedules, improving medication accuracy and adherence. By combining the ATmega328PB microcontroller and ESP32 wireless communication module, we've implemented features including smart reminders, medication tracking, fingerprint recognition, and remote controlling.</p>
        </section>

        <section class="section">
            <h2>Demo Video</h2>
            <div class="video-container">
                <iframe src="https://drive.google.com/file/d/1mdtWFyE5KcZYduNJ2e5mpTfynGkAHgSA/preview" allowfullscreen></iframe>
            </div>
        </section>

        <section class="section">
            <h2>Project Gallery</h2>
            <div class="gallery">
                <div class="gallery-item" onclick="openModal('hardware')">
                    <img src="images/hardware_setup_1.jpg" alt="Hardware Setup">
                    <div class="gallery-caption">Hardware Setup</div>
                </div>
                <div class="gallery-item" onclick="openModal('app')">
                    <img src="images/mobile-app.jpg" alt="Mobile App Interface">
                    <div class="gallery-caption">Mobile App Interface</div>
                </div>
                <div class="gallery-item" onclick="openModal('internal')">
                    <img src="images/pillbox-open.jpg" alt="Pillbox Internal View">
                    <div class="gallery-caption">Pillbox Internal View</div>
                </div>
                <div class="gallery-item" onclick="openModal('architecture')">
                    <img src="images/system-diagram.jpg" alt="System Architecture">
                    <div class="gallery-caption">System Architecture</div>
                </div>
            </div>
        </section>

        <section class="section">
            <h2>Key Features</h2>
            <div class="feature-grid">
                <div class="feature-card">
                    <h3>Smart Reminders</h3>
                    <p>Never miss a pill with our visual and auditory alerts to ensure timely medication intake.</p>
                </div>
                <div class="feature-card">
                    <h3>Medication Monitoring</h3>
                    <p>An LCD is used to monitor the status of medication, ensuring that patients do not take substandard or compromised tablets. </p>
                </div>
                <div class="feature-card">
                    <h3>Fingerprint-Secured Access</h3>
                    <p>Using fingerprint recognition, patients securely access their corresponding medication boxes, ensuring accurate and error-free usage.</p>
                </div>
                <div class="feature-card">
                    <h3>App Access for Higher Authority</h3>
                    <p>Authorized personnel, such as doctors or nurses, can use a mobile app to open any medication box without the need for fingerprint verification.</p>
                </div>
            </div>
        </section>

        <section class="section">
            <h2>Technology Stack</h2>
            <div class="tech-stack">
                <span class="tech-tag">ATmega328PB</span>
                <span class="tech-tag">ESP32</span>
                <span class="tech-tag">Wi-Fi</span>
                <span class="tech-tag">UART, SPI, I2C communication</span>
            </div>
        </section>

        <section class="section">
            <h2>Documentation</h2>
            <p>For detailed technical documentation and user guides, please visit our <a href="https://github.com/upenn-embedded/final-project-circuit-masters.git">GitHub Page</a>.</p>
        </section>
    </main>

    <footer>
        <div class="container">
            <p>© 2024 Smart Pillbox Project, Team08.</p>
        </div>
    </footer>

    <!-- Modal -->
    <div id="detailModal" class="modal">
        <div class="modal-content">
            <button class="modal-close" onclick="closeModal()">&times;</button>
            <div class="image-container">
                <button class="nav-button prev" onclick="prevImage()">&lt;</button>
                <img id="modalImage" class="modal-image" src="" alt="">
                <button class="nav-button next" onclick="nextImage()">&gt;</button>
            </div>
            <h3 id="modalTitle" class="modal-title"></h3>
            <div id="modalDescription" class="modal-description"></div>
            <div id="modalDetails" class="modal-details"></div>
        </div>
    </div>

    <script>
        // Modal data configuration
        const modalData = {
            hardware: {
                title: "Hardware Setup",
                images: [
                    "images/hardware_setup_1.jpg",
                    "images/hardware_setup_2.jpg",
                    "images/hardware_setup_3.jpg"
                ],
                description: "Our smart pillbox hardware combines ATmega328PB microcontroller with ESP32 for wireless connectivity. The design focuses on reliability and ease of use.",
                details: `
                    <h4>Key Components:</h4>
                    <ul>
                        <li>ATmega328PB microcontroller for core functionality</li>
                        <li>ESP32 module for WiFi connectivity</li>
                        <li>LED and buzzer for alerts system</li>
                        <li>Multiple compartments with sensors</li>
                        <li>Optical fingerprint module for recognition</li>
                        <li>LCD for pills status display</li>
                    </ul>
                `
            },
            app: {
                title: "Mobile App Interface",
                image: "images/mobile-app.jpg",
                description: "The companion mobile app provides an intuitive interface for managing medication schedules and monitoring adherence.",
                details: `
                    <h4>App Features:</h4>
                    <ul>
                        <li>Medication remote control</li>
                        <li>Medication schedule management</li>
                    </ul>
                `
            },
            internal: {
                title: "Pillbox Internal View",
                image: "images/pillbox-open.jpg",
                description: "The internal design of our pillbox ensures reliable operation and easy maintenance.",
                details: `
                    <h4>Internal Components:</h4>
                    <ul>
                        <li>Compartment sensors for medication tracking</li>
                        <li>Easy-access maintenance panels</li>
                    </ul>
                `
            },
            architecture: {
                title: "System Architecture",
                image: "images/system-diagram.jpg",
                description: "A comprehensive system architecture that ensures reliable medication management and real-time monitoring.",
                details: `
                    <h4>Architecture Components:</h4>
                    <ul>
                        <li>Edge computing on ATmega328PB</li>
                        <li>Cloud connectivity via ESP32</li>
                        <li>Secure data transmission</li>
                        <li>Real-time synchronization</li>
                    </ul>          
                `
            }
        };

        let currentImageIndex = 0;
        let currentType = '';

        function openModal(type) {
            const modal = document.getElementById('detailModal');
            const data = modalData[type];
            currentType = type;
            
            if (data.images) {
                currentImageIndex = 0;
                document.getElementById('modalImage').src = data.images[currentImageIndex];
                document.querySelectorAll('.nav-button').forEach(btn => btn.style.display = 'block');
            } else {
                document.getElementById('modalImage').src = data.image;
                document.querySelectorAll('.nav-button').forEach(btn => btn.style.display = 'none');
            }
            
            document.getElementById('modalTitle').textContent = data.title;
            document.getElementById('modalDescription').textContent = data.description;
            document.getElementById('modalDetails').innerHTML = data.details;
            
            modal.style.display = 'block';
            document.body.style.overflow = 'hidden';
        }

        function closeModal() {
            const modal = document.getElementById('detailModal');
            modal.style.display = 'none';
            document.body.style.overflow = 'auto';
        }

        function prevImage() {
            const data = modalData[currentType];
            if (!data.images) return;
            currentImageIndex = (currentImageIndex - 1 + data.images.length) % data.images.length;
            document.getElementById('modalImage').src = data.images[currentImageIndex];
        }

        function nextImage() {
            const data = modalData[currentType];
            if (!data.images) return;
            currentImageIndex = (currentImageIndex + 1) % data.images.length;
            document.getElementById('modalImage').src = data.images[currentImageIndex];
        }

        // Close modal when clicking outside
        window.onclick = function(event) {
            const modal = document.getElementById('detailModal');
            if (event.target == modal) {
                closeModal();
            }
        }
    </script>
</body>
</html>